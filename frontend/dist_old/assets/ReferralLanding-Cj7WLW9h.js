import{u as g,d as m,b as f,r as i,j as e,c as h}from"./index-B3SC9TNl.js";function p(){const{t:a}=g(),{username:l}=m(),n=f(),[s,t]=i.useState(null),[d,o]=i.useState(!0);return i.useEffect(()=>{(async()=>{try{const r=await h.get(`/api/user/profile/${l}`);if(r.data.user){t(r.data.user);const c=new Date;c.setDate(c.getDate()+30),document.cookie=`spark_ref=${r.data.user.referral_code};expires=${c.toUTCString()};path=/`}}catch{}o(!1),setTimeout(()=>n("/"),3e3)})()},[l,n]),d?e.jsx("div",{className:"access-gate-page",children:e.jsx("div",{className:"access-gate-container",children:e.jsxs("div",{className:"access-gate-header",children:[e.jsx("div",{className:"gate-logo",children:e.jsx("span",{className:"gate-icon",children:"⚽"})}),e.jsx("h1",{children:a("common.loading")})]})})}):e.jsx("div",{className:"access-gate-page",children:e.jsxs("div",{className:"access-gate-container",children:[e.jsxs("div",{className:"access-gate-header",children:[e.jsx("div",{className:"gate-logo",children:e.jsx("span",{className:"gate-icon",children:"⚽"})}),e.jsx("h1",{children:a("auth.sparkAIPrediction")}),e.jsx("p",{className:"gate-subtitle",children:a("auth.smartAnalysis")})]}),s?e.jsxs("div",{className:"referral-landing-card",children:[e.jsx("div",{className:"referral-landing-avatar",children:s.avatar_url?e.jsx("img",{src:s.avatar_url,alt:s.display_name,className:"referral-avatar-img"}):e.jsx("div",{className:"referral-avatar-circle",style:{background:s.avatar_color},children:(s.display_name||"?")[0].toUpperCase()})}),e.jsx("p",{className:"referral-landing-text",children:a("referral.invitedToJoin",{name:s.display_name})}),e.jsx("p",{className:"referral-landing-sub",children:a("referral.redirectingSignup")})]}):e.jsxs("div",{className:"referral-landing-card",children:[e.jsx("p",{className:"referral-landing-text",children:a("referral.invalidReferralLink")}),e.jsx("p",{className:"referral-landing-sub",children:a("referral.redirectingHome")})]})]})})}export{p as default};
