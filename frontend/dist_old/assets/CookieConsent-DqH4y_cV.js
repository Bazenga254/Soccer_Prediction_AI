import{u,r as a,j as e,L as k,c as l}from"./index-B3SC9TNl.js";function d(){return"sess_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}function h(){const{t:n}=u(),[p,i]=a.useState(!1),r=a.useRef(null);a.useEffect(()=>{if(!localStorage.getItem("spark_cookie_consent")){const f=setTimeout(()=>i(!0),1e3);return()=>clearTimeout(f)}let o=sessionStorage.getItem("spark_session_id");o||(o=d(),sessionStorage.setItem("spark_session_id",o)),r.current=o},[]);const c=()=>{let s=sessionStorage.getItem("spark_session_id");return s||(s=d(),sessionStorage.setItem("spark_session_id",s)),r.current=s,s},x=()=>{localStorage.setItem("spark_cookie_consent","accepted"),localStorage.setItem("spark_consent_date",new Date().toISOString()),i(!1);const s=c();l.post("/api/consent",{session_id:s,consent_given:!0}).catch(()=>{})},g=()=>{localStorage.setItem("spark_cookie_consent","declined"),localStorage.setItem("spark_consent_date",new Date().toISOString()),i(!1);const s=c();l.post("/api/consent",{session_id:s,consent_given:!1}).catch(()=>{})};return p?e.jsx("div",{style:t.banner,children:e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:t.textBlock,children:[e.jsxs("div",{style:t.titleRow,children:[e.jsx("span",{style:t.icon,children:"üç™"}),e.jsx("span",{style:t.title,children:n("cookies.title")})]}),e.jsxs("p",{style:t.message,children:[n("cookies.message")," ",e.jsx(k,{to:"/terms",style:t.link,children:n("cookies.learnMore")})]})]}),e.jsxs("div",{style:t.actions,children:[e.jsx("button",{style:t.acceptBtn,onClick:x,children:n("cookies.accept")}),e.jsx("button",{style:t.declineBtn,onClick:g,children:n("cookies.decline")})]})]})}):null}const t={banner:{position:"fixed",bottom:0,left:0,right:0,zIndex:10001,background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",borderTop:"1px solid #334155",padding:"16px 20px",boxShadow:"0 -4px 20px rgba(0,0,0,0.4)",animation:"slideUp 0.3s ease-out"},content:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",maxWidth:"1100px",margin:"0 auto",flexWrap:"wrap"},textBlock:{flex:"1 1 400px",minWidth:"280px"},titleRow:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},icon:{fontSize:"20px"},title:{fontSize:"15px",fontWeight:"600",color:"#f1f5f9"},message:{fontSize:"13px",color:"#94a3b8",lineHeight:"1.5",margin:0},link:{color:"#3b82f6",textDecoration:"underline"},actions:{display:"flex",gap:"10px",flexShrink:0},acceptBtn:{padding:"8px 20px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"background 0.2s",whiteSpace:"nowrap"},declineBtn:{padding:"8px 20px",background:"transparent",color:"#94a3b8",border:"1px solid #334155",borderRadius:"8px",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"}};export{h as default};
