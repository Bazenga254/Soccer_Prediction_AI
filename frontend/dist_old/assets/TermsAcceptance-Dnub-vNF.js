import{u as m,a as b,r as s,j as e,c as y}from"./index-B3SC9TNl.js";function j(){const{t:r}=m(),{refreshProfile:x}=b(),[n,p]=s.useState(!1),[o,a]=s.useState(!1),[l,c]=s.useState(""),d=s.useRef(null),h=async()=>{if(n){c(""),a(!0);try{await y.post("/api/user/accept-terms"),await x()}catch(i){c(i.response?.data?.detail||"Failed to save. Please try again.")}finally{a(!1)}}},f=Array.from({length:12},(i,g)=>g+1);return e.jsx("div",{style:t.overlay,children:e.jsxs("div",{style:t.card,children:[e.jsx("div",{style:t.iconWrap,children:e.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]})}),e.jsx("h2",{style:t.title,children:r("termsGate.title")}),e.jsx("p",{style:t.subtitle,children:r("termsGate.subtitle")}),e.jsxs("div",{style:t.termsScroll,ref:d,children:[e.jsx("h3",{style:t.termsHeading,children:r("terms.title")}),e.jsx("p",{style:t.termsDate,children:r("terms.effectiveDate")}),f.map(i=>e.jsxs("div",{style:i===7||i===8?t.sectionHighlight:t.section,children:[e.jsx("h4",{style:i===7||i===8?t.sectionTitleRed:t.sectionTitle,children:r(`terms.s${i}Title`)}),e.jsx("p",{style:t.sectionContent,children:r(`terms.s${i}Content`)})]},i))]}),l&&e.jsx("p",{style:t.error,children:l}),e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:n,onChange:i=>p(i.target.checked),style:t.checkbox}),e.jsx("span",{children:r("termsGate.agree")})]}),e.jsx("button",{style:{...t.acceptBtn,opacity:n&&!o?1:.5,cursor:n&&!o?"pointer":"not-allowed"},onClick:h,disabled:!n||o,children:r(o?"termsGate.saving":"termsGate.continue")})]})})}const t={overlay:{position:"fixed",inset:0,background:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:9999},card:{background:"#1e293b",borderRadius:"16px",border:"1px solid #334155",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0,0,0,0.4)"},iconWrap:{textAlign:"center",marginBottom:"12px"},title:{fontSize:"22px",fontWeight:"700",color:"#f1f5f9",textAlign:"center",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#94a3b8",textAlign:"center",margin:"0 0 20px 0",lineHeight:"1.5"},termsScroll:{flex:1,overflowY:"auto",background:"#0f172a",borderRadius:"10px",border:"1px solid #334155",padding:"20px",marginBottom:"16px",maxHeight:"400px"},termsHeading:{fontSize:"18px",fontWeight:"700",color:"#f1f5f9",margin:"0 0 4px 0"},termsDate:{fontSize:"12px",color:"#64748b",margin:"0 0 16px 0"},section:{marginBottom:"16px"},sectionHighlight:{marginBottom:"16px",background:"rgba(239, 68, 68, 0.05)",border:"1px solid rgba(239, 68, 68, 0.15)",borderRadius:"8px",padding:"12px"},sectionTitle:{fontSize:"14px",fontWeight:"600",color:"#e2e8f0",margin:"0 0 6px 0"},sectionTitleRed:{fontSize:"14px",fontWeight:"600",color:"#f87171",margin:"0 0 6px 0"},sectionContent:{fontSize:"13px",color:"#94a3b8",lineHeight:"1.7",margin:0,whiteSpace:"pre-line"},error:{color:"#f87171",fontSize:"13px",textAlign:"center",margin:"0 0 12px 0"},checkboxLabel:{display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",color:"#e2e8f0",marginBottom:"16px",cursor:"pointer"},checkbox:{width:"18px",height:"18px",accentColor:"#3b82f6",cursor:"pointer",flexShrink:0},acceptBtn:{width:"100%",padding:"12px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"10px",fontSize:"15px",fontWeight:"600",transition:"all 0.2s"}};export{j as default};
